jQuery(function($){function rgb2hex(rgb){rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return rgb&&4===rgb.length?"#"+("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+("0"+parseInt(rgb[3],10).toString(16)).slice(-2):""}function isBrightness($that){var c=rgb2hex($that.css("background-color")),rgb=parseInt(c.substring(1),16),r=rgb>>16&255,g=rgb>>8&255,b=rgb>>0&255,luma=.2126*r+.7152*g+.0722*b;luma<50&&$that.addClass("invert-act")}function autocenter(elem){var windowWidth=$(window).outerWidth(!0);if(windowWidth<768){var container=$(elem).closest(".coinmc-filter"),cWidth=$(container).outerWidth(!0),width=$(elem).outerWidth(!0),offset=$(elem).offset().left-$($(container).find(".coinmc-filter-button")[0]).offset().left;$(container).stop().animate({scrollLeft:offset-cWidth/2+width/2},400)}}depp.define({chartjs:[coinmc.url+"assets/public/js/Chart.min.js"],echarts:[coinmc.url+"assets/public/js/echarts.min.js"],datatable:[coinmc.url+"assets/public/js/jquery.dataTables.min.js"],responsive:[coinmc.url+"assets/public/js/dataTables.responsive.min.js"],fixedcol:[coinmc.url+"assets/public/js/tableHeadFixer.js"],fixedhead:[coinmc.url+"assets/public/js/dataTables.fixedHeader.min.js"],dragscroll:[coinmc.url+"assets/public/js/dragscroll.js"]});coinmc.number_format=function(number,decimals,dec_point,thousands_point){if(null==number||!isFinite(number))return"";if(!decimals){var len=number.toString().split(".").length;decimals=len>1?len:0}dec_point||(dec_point=".");thousands_point||(thousands_point=",");number=parseFloat(number).toFixed(decimals);number=number.replace(".",dec_point);var splitNum=number.split(dec_point);splitNum[0]=splitNum[0].replace(/\B(?=(\d{3})+(?!\d))/g,thousands_point);number=splitNum.join(dec_point);return number};coinmc.numberFormat=function(num,iso,shorten=!1,decimals="auto"){num=parseFloat(num);var format=void 0!==coinmc.currency_format[iso]?coinmc.currency_format[iso]:coinmc.default_currency_format;decimals=shorten?format.decimals:"auto"==decimals?num>=1?format.decimals:num<1e-6?14:6:parseInt(decimals);num=num.toFixed(decimals);var index=0,suffix="",suffixes=[""," K"," M"," B"," T"];if(shorten){for(;num>1e3;){num/=1e3;index++}suffix=suffixes[index]}return coinmc.number_format(num,decimals,format.decimals_sep,format.thousands_sep)+suffix};coinmc.priceFormat=function(price,iso,shorten=!1,decimals="auto"){price=parseFloat(price);var format=void 0!==coinmc.currency_format[iso]?coinmc.currency_format[iso]:coinmc.default_currency_format;price=coinmc.numberFormat(price,iso,shorten,decimals);var out=format.position;out=out.replace("{symbol}",'<b class="fiat-symbol">'+format.symbol+"</b>");out=out.replace("{space}"," ");out=out.replace("{price}","<span>"+price+"</span>");return out};coinmc.sprintf=function(format){var args=Array.prototype.slice.call(arguments,1),i=0;return format.replace(/%s/g,function(){return args[i++]})};coinmc.watchlist={textUpdate:function(state,that,coins){var texts=[coinmc.text.addtowatchlist,coinmc.text.removefromwatchlist],text=state?texts[1]:texts[0];that=$(that.popper).length>0?$(that.popper).find('.coinmc-dropdown__item a[data-action="watchlist"]'):that;$(that).html('<i class="far fa-star"></i> '+text);$(".coinmc-wlist-btn").html('<i class="far fa-star"></i> '+coins.length)},ajax:function(action,coin){var datas={action:"watchlist",process:action,coin:coin};$.ajax({url:coinmc.ajax_url,type:"POST",data:datas,success:function(results){if("fetch"==action)return results.coins?results.coins:[];if("setcookie"!=action)return results;window.location=results.redirect_to}})},get:function(name,fb){var coins=localStorage.getItem("watchlist."+name);return coins?JSON.parse(coins):fb},set:function(name,val){localStorage.setItem("watchlist."+name,JSON.stringify(val))},addremove:function(name,val,that){if(!coinmc.watchlistConfig.user_based||coinmc.watchlistConfig.user){var out=!0;if(coinmc.watchlistConfig.user_based){var datas={action:"watchlist",process:"update",coin:val};$.ajax({url:coinmc.ajax_url,type:"POST",data:datas,success:function(results){coinmc.watchlist.textUpdate(results.action,that,results.coins)}})}else{var coins=coinmc.watchlist.get("coins",[]),index=coins.indexOf(val);out=!0;if(index>-1){coins.splice(index,1);out=!1}else coins.push(val);this.set("coins",coins);this.textUpdate(out,that,coins)}return out}this.ajax("setcookie",val)}};var realtimes=$('[data-realtime="on"]'),socket=new WebSocket("wss://ws.coincap.io/prices?assets=ALL");socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(var coin in prices)realtimes.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})});$.fn.realTime=function(coin,priceusd){var self=$(this),rate=self.data("rate"),currency=(coin=self.data("live-price"),self.data("currency")),timeout=parseInt(self.attr("data-timeout"))||0,difference=Math.floor(Date.now())-timeout;if(difference>5e3){var price="BTC"===currency?priceusd/rate:priceusd*rate;price="BTC"===currency&&"bitcoin"===coin?1:price;price=coinmc.priceFormat(price,currency);coinmc.title&&-1!==coinmc.title.indexOf("{price}")&&coin===coinmc.coin&&(document.title=coinmc.title.replace("{price}",$(price).text()));self.html(price);priceusd>parseFloat(self.attr("data-price"))&&self.animateCss("liveup");priceusd<parseFloat(self.attr("data-price"))&&self.animateCss("livedown");self.attr("data-price",priceusd);self.attr("data-timeout",Math.floor(Date.now()))}};$.fn.extend({animateCss:function(animationName,callback){var animationEnd=function(el){var animations={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var t in animations)if(void 0!==el.style[t])return animations[t]}(document.createElement("div"));this.addClass("coinmc-animated "+animationName).one(animationEnd,function(){$(this).removeClass("coinmc-animated "+animationName);"function"==typeof callback&&callback()});return this}});$.fn.invertable=function(){isBrightness($(this));var invertList=["ethereum","ripple","iota","eos","0x","bancor","dentacoin","bibox-token","medishares","santiment","quantstamp","raiden-network-token","pillar","republic-protocol","metal","eidoo","credo","blackmoon","covesting","shivom","suncontract","numeraire","daostack","bitdegree","matryx","faceter","internxt","cryptoping","invacio","chainium","creativecoin","trezarcoin","elcoin-el","jesus-coin","mojocoin","gapcoin","prime-xi","speedcash","veltor","loopring-neo","francs"];$(this).find("img").each(function(){invertList.join("-").toLowerCase().indexOf($(this).attr("alt").toLowerCase())>-1&&$(this).addClass("invertable")})};$(".cdt-table.dark").each(function(){$(this).invertable()});$.fn.inView=function(){if(!$(this).length>0)return!1;var win=$(window);obj=$(this);var scrollPosition=win.scrollTop(),visibleArea=win.scrollTop()+win.height(),objEndPos=obj.offset().top+obj.outerHeight();return visibleArea>=objEndPos&&scrollPosition<=objEndPos};$.fn.drawChart=function(){var self=$(this);depp.require("chartjs",function(){var rate=self.data("rate")?self.data("rate"):1,currency=self.data("currency")?self.data("currency"):"USD",color=self.data("color"),gradient=parseInt(self.data("gradient")),border=parseInt(self.data("border")),opacity=parseFloat(self.data("opacity")),values=self.data("points").split(",");values=values.map(function(value){return"BTC"===currency?parseFloat(value)/rate:parseFloat(value)*rate});var labels=values.map(function(value){var decimals=value>=1?2:value<1e-6?14:6;return value.toFixed(decimals)});background=background||color;if(0===gradient)var background="rgba("+color+","+opacity+")";else{background=self[0].getContext("2d").createLinearGradient(0,0,0,gradient);background.addColorStop(0,"rgba("+color+",0.3)");background.addColorStop(1,"rgba("+color+",0)")}var data={labels:labels,datasets:[{data:values,fill:!0,backgroundColor:background,borderColor:"rgb("+color+")",pointBorderColor:"rgb("+color+")",lineTension:.25,pointRadius:0,borderWidth:border}]},options={animation:{duration:500},legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},tooltips:{mode:"index",intersect:!1,displayColors:!1,callbacks:{label:function(tooltipItem,data){return coinmc.priceFormat(tooltipItem.xLabel,currency).replace('<b class="fiat-symbol">',"").replace("</b>","").replace("<span>","").replace("</span>","")},title:function(tooltipItem,data){return!1}}},hover:{mode:"nearest",intersect:!0},maintainAspectRatio:!1,layout:{padding:{top:1,bottom:1}}};new Chart(self[0].getContext("2d"),{type:"line",data:data,options:options})})};$.fn.coinmcTable=function(){var self=this,breakpoint=480,table=self.find(".coinmc-datatable"),prevBtn=self.find(".coinmc-previous-btn"),nextBtn=self.find(".coinmc-next-btn"),searchInput=(self.find(".coinmc-all-btn"),self.find(".coinmc-search")),pageInfo=self.find(".dataTables_info"),wlistBtn=self.find(".coinmc-wlist-btn"),currency=self.find(".coinmc-currency"),config=table.data("config"),deps=["datatable"];config.fixedcol&&deps.push("fixedcol");config.fixedhead&&deps.push("fixedhead");config.responsive?deps.push("responsive"):deps.push("dragscroll");depp.require(deps,function(){var columns=[],fields=[];table.find("thead th").each(function(index){var column=$(this).data("col");fields.push(column);columns.push({data:column,name:column})});var fixColumns=["no","rank","name"].filter(function(val){return fields.indexOf(val)>-1}),options={simple:{dom:'r<"loader show"><"datatable-scroll"t><"loader loader-footer"><"clear">',displayStart:(config.page-1)*config.length,order:[],pageLength:config.length,columns:columns,columnDefs:[{targets:"col-name",className:"ctrl text-left all"},{targets:"col-no",className:config.responsive?"text-left min-tablet-p":"text-left",width:"20px",orderable:!1},{targets:"col-rank",className:config.responsive?"text-left min-tablet-p":"text-left",width:"20px"},{targets:"col-price_usd",className:"all"},{targets:"col-weekly",width:"190px","max-width":"190px",className:"chart-wrapper"},{targets:"col-actions",className:"all",orderable:!1,width:"10px"}],language:{processing:"",emptyTable:'<div style="text-align: left;">'+coinmc.text.emptytable+"</div>"},processing:!0,serverSide:!0,ajax:{url:coinmc.ajax_url,data:{action:"coinmc_table",id:self.attr("id").split("-")[1],coins:coinmc.watchlistConfig.user_based?coinmc.watchlist.ajax("fetch",[]):coinmc.watchlist.get("coins",[]),watchlist:config.watchlist,restrict:coinmc.watchlistConfig.user_based,currency:currency.val()}},drawCallback:function(oSettings){table.find("canvas").each(function(){$(this).drawChart()});config.realtime&&socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(coin in prices)table.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})})}},advanced:{fixedHeader:config.fixedhead,processing:!0,serverSide:!0,ajax:{url:coinmc.ajax_url,data:{action:"coinmc_table",id:self.attr("id").split("-")[1],coins:coinmc.watchlistConfig.user_based?coinmc.watchlist.ajax("fetch",[]):coinmc.watchlist.get("coins",[]),watchlist:config.watchlist,restrict:coinmc.watchlistConfig.user_based,currency:currency.val()}},drawCallback:function(oSettings){var url=new URL(location.href),page=oSettings._iDisplayStart/oSettings._iDisplayLength+1;page>1?url.searchParams.set("coins",page):url.searchParams.delete("coins");history.pushState({},"",url.href);config.realtime&&socket.addEventListener("message",function(msg){var prices=JSON.parse(msg.data);for(var coin in prices)table.find('[data-live-price="'+coin+'"]').each(function(){$(this).realTime(coin,prices[coin])})});table.find("canvas").each(function(){$(this).drawChart()});table.find(".coinmc-dropdown").each(function(){$(this).coinmcDropdown()});$(".cdt-table.dark").each(function(){$(this).invertable()});var prevBtnState=Boolean(0!==oSettings._iDisplayStart);prevBtn.toggle(prevBtnState);var nextBtnState=Boolean(oSettings.fnDisplayEnd()!==oSettings.fnRecordsDisplay());nextBtn.toggle(nextBtnState);var pageInfoText=coinmc.sprintf(coinmc.text.pageinfo,oSettings._iDisplayStart+1,oSettings.fnDisplayEnd(),oSettings.fnRecordsDisplay());pageInfo.text(pageInfoText)},initComplete:function(oSettings){var inputTimeout,datatable=this,debounceTime=400;searchInput.on("keyup",function(){clearTimeout(inputTimeout);inputTimeout=setTimeout(function(){datatable.api().search(searchInput.val()).draw()},debounceTime)});prevBtn.click(function(){datatable.api().page("previous").draw("page")});nextBtn.click(function(){datatable.api().page("next").draw("page")});if(!coinmc.watchlistConfig.user_based){var coins=coinmc.watchlist.get("coins",[]);wlistBtn.html('<i class="far fa-star"></i> '+coins.length)}wlistBtn.click(function(){$(this).toggleClass("dark",!oSettings.ajax.data.watchlist);oSettings.ajax.data.watchlist=!oSettings.ajax.data.watchlist;oSettings.ajax.data.coins=coinmc.watchlistConfig.user_based?coinmc.watchlist.ajax("fetch",[]):coinmc.watchlist.get("coins",[]);datatable.api().draw()});currency.on("change",function(){oSettings.ajax.data.currency=$(this).val();datatable.api().draw()});if(!config.responsive){$(".datatable-scroll").addClass("dragscroll");dragscroll.reset()}config.fixedhead&&$(".datatable-scroll").on("scroll",function(){datatable.api().fixedHeader.adjust()});config.fixedcol&&table.tableHeadFixer({left:fixColumns.length,head:!1})}}};config.responsive&&(options.advanced.responsive={details:{type:self.width()<breakpoint?"column":"inline",target:"tr"}});var dtOptions=$.extend(options.simple,options[config.type]),tabledt=table.DataTable(dtOptions);tabledt.on("responsive-resize",function(e,datatable,columns){var index=columns[0]?0:1,dtr=["dtr-inline","dtr-column"];table.find("tr td").removeClass("ctrl");table.find("tbody tr").each(function(){$(this).find("td").eq(index).addClass("ctrl")});table.removeClass("dtr-column dtr-inline");table.addClass(dtr[index])});tabledt.on("processing.dt",function(e,settings,processing){if(processing){var loaderpos=self.find(".cdt-table-tools").inView()?0:1;self.find(".loader").eq(loaderpos).addClass("show")}else self.find(".loader").removeClass("show")});tabledt.on("responsive-display",function(e){$(e.currentTarget).find("td.child canvas").parent().addClass("chart-wrapper");$(e.currentTarget).find("td.child canvas").each(function(){$(this).drawChart()})})})};tippy(".tippy-tooltip",{theme:"dark",arrow:!0,placement:"bottom",animation:"shift-away"});$.fn.coinmcDropdown=function(){var self=$(this);$(this).find(".coinmc-dropdown__list").css("min-width",self.width()+"px");if(void 0===$(this).find(".coinmc-button")[0]._tippy){tippy($(this).find(".coinmc-button")[0],{placement:$(this).data("position"),animation:"shift-away",theme:$(this).data("theme")+" dropdown",trigger:"click",animateFill:!1,interactive:!0,inertia:!0,distance:5,content:$(this).find(".coinmc-dropdown__list")[0],onShow:function(){self.addClass("coinmc-dropdown-active")},onHide:function(){self.removeClass("coinmc-dropdown-active")}});var tooltip=$(this).find(".coinmc-button")[0]._tippy;$(tooltip.popper).find(".coinmc-dropdown__item a").each(function(){var action=$(this).data("action");switch(action){case"watchlist":if(!coinmc.watchlistConfig.user_based){var coins=coinmc.watchlist.get("coins",[]),state=coins.indexOf($(this).data("value"))>-1;coinmc.watchlist.textUpdate(state,$(this),coins)}}});$(tooltip.popper).find(".coinmc-dropdown__item a").on("click",function(){var action=$(this).data("action");switch(action){case"currency":$(tooltip.reference).html($(this).html());self.find("input").val($(this).data("value")).trigger("change");break;case"watchlist":coinmc.watchlist.addremove("coins",$(this).data("value"),tooltip)}tooltip.hide()})}};$.fn.coinmcResize=function(){var breakpoint="xs",width=this.find(".cmc-row").length>0?this.find(".cmc-row").eq(0).width():this.width();width>=1200?breakpoint="lg":width>=992?breakpoint="md":width>=768?breakpoint="sm":width>=576&&(breakpoint="xs");this.removeClass("cmcl-xs cmcl-sm cmcl-md cmcl-lg").addClass("cmcl-"+breakpoint);this.trigger("view")};$.fn.coinmcTabs=function(){var self=this;self.find("ul > br").remove();self.find(".coinmc-tab").eq(0).addClass("active");self.find(".coinmc-tab-content").eq(0).addClass("active");self.find(".coinmc-tab-content").eq(0).find(".coinmc-trigger").trigger("view");self.find(".coinmc-tab").click(function(){self.find(".coinmc-tab").removeClass("active");$(this).addClass("active");var $that=self.find(".coinmc-tab-content").eq($(this).index());self.find(".coinmc-tab-content").not($that).slideUp();self.find(".coinmc-tab-content").eq($(this).index()).slideDown();self.find(".coinmc-tab-content").eq($(this).index()).find(".coinmc-trigger").trigger("view")})};$(".coinmc-chart").one("view",function(){var self=$(this);0!==this.length&&depp.require("echarts",function(){function getOptions(){var options={animation:!1,backgroundColor:theme.backgroundColor,color:theme.chartColors,textStyle:{color:theme.color,fontFamily:theme.fontFamily},title:{text:opts.symbol+"/"+opts.currency,subtext:coinmc.text.periods[opts.period],textStyle:{color:theme.titleColor}},grid:{left:15,right:15,top:chartwrapper.width()>breakpoint?80:110,bottom:10,containLabel:!0},tooltip:{trigger:"axis",backgroundColor:"#fff",extraCssText:"box-shadow: 1px 0 0 #e6e6e6, -1px 0 0 #e6e6e6, 0 1px 0 #e6e6e6, 0 -1px 0 #e6e6e6, 0 3px 13px rgba(0,0,0,0.08)",textStyle:{color:"#393939"},formatter:function(params){var tooltip=params[0].name;if("chart"==opts.type){tooltip+="<br/>";tooltip+=params[0].marker+coinmc.text.tooltip[0]+": <b>"+coinmc.priceFormat(params[0].value,opts.currency);tooltip+="</b>"}else{tooltip+="<br/>";tooltip+=params[0].marker+coinmc.text.tooltip[1]+": <b>"+coinmc.priceFormat(params[0].value[4],opts.currency)+"</b>";tooltip+=" "+coinmc.text.tooltip[2]+": <b>"+coinmc.priceFormat(params[0].value[3],opts.currency)+"</b>";tooltip+="<br/>";tooltip+=params[0].marker+coinmc.text.tooltip[3]+": <b>"+coinmc.priceFormat(params[0].value[2],opts.currency)+"</b>";tooltip+=" "+coinmc.text.tooltip[4]+": <b>"+coinmc.priceFormat(params[0].value[1],opts.currency)+"</b>";tooltip+="<br/>";tooltip+=params[1].marker+coinmc.text.tooltip[5]+": <b>"+coinmc.numberFormat(params[1].value,opts.currency,!1,0)+"</b> "+opts.symbol}return tooltip}},dataZoom:{show:!1,realtime:!0,start:0,end:100},xAxis:[],yAxis:[],series:[]};if("chart"==opts.type){options.xAxis.push({type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:theme.xAxis}}});options.yAxis.push({type:"value",scale:!0,axisLabel:{textStyle:{color:theme.yAxis},formatter:function(value){return 0==value?0:coinmc.numberFormat(value,opts.currency)}},splitLine:{show:!1,lineStyle:{color:theme.yAxis,width:1,type:"solid"}},boundaryGap:!1});options.series.push({name:coinmc.text.price,type:"line",smooth:opts.smooth,itemStyle:{normal:{areaStyle:{type:"default"}}}})}else{options.xAxis.push({type:"category",boundaryGap:!0,axisTick:{onGap:!1},splitLine:{show:!1},axisLabel:{textStyle:{color:theme.xAxis}}});options.yAxis.push({type:"value",scale:!1,axisLabel:{textStyle:{color:theme.yAxis},formatter:function(value){return 0==value?0:coinmc.numberFormat(value,opts.currency)}},splitLine:{show:!1},boundaryGap:["0%","0%"]},{type:"value",scale:!0,axisLabel:{textStyle:{color:theme.yAxis},formatter:function(value){return 0==value?0:coinmc.numberFormat(value,opts.currency)}},splitLine:{show:!0,lineStyle:{color:theme.yAxis,width:1,type:"solid"}},boundaryGap:["0%","0%"]});options.series.push({name:"OHLC",type:"k",itemStyle:{normal:{color:"#dc3545",color0:"#23BF08"}},yAxisIndex:1});options.series.push({name:coinmc.text.volume,type:"bar"})}chartwrapper.css("background",theme.backgroundColor);chartwrapper.css("border-color",theme.border);return options}function getData(callback){if("chart"===opts.type){var slugReplace={truefeedback:"truefeedbackchain",avalanche:"avalanche-2",bnb:"binancecoin","multi-collateral-dai":"dai","polkadot-new":"polkadot",polygon:"matic-network","unus-sed-leo":"leo-token",xrp:"ripple","apecoin-ape":"apecoin",hedera:"hedera-hashgraph","near-protocol":"near","bitcoin-sv":"bitcoin-cash-sv","bittorrent-new":"bittorrent","elrond-egld":"elrond-erd-2","kucoin-token":"kucoin-shares",quant:"quant-network",synthetix:"havven","theta-network":"theta-token",trueusd:"true-usd","enjin-coin":"enjincoin",klaytn:"klay-token",mina:"mina-protocol","neutrino-usd":"neutrino",pancakeswap:"pancakeswap-token",stacks:"blockstack",compound:"compound-governance-token",gatetoken:"gatechain-token","gnosis-gno":"gnosis","green-metaverse-token":"stepn",holo:"holotoken",amp:"amp-token","kyber-network-crystal-v2":"kyber-network-crystal",omg:"omisego","optimism-ethereum":"optimism","reserve-rights":"reserve-rights-token",xinfin:"xdce-crowd-sale",zel:"zelcash","golem-network-tokens":"golem","hive-blockchain":"hive",horizen:"zencash","skale-network":"skale",sxp:"swipe","abbc-coin":"alibabacoin",casper:"casper-network","ceek-vr":"ceek",dogelon:"dogelon-mars","polymath-network":"polymath",sushiswap:"sushi","voyager-token":"ethos",wootrade:"woo-network","conflux-network":"conflux-token","ontology-gas":"ong","pundix-new":"pundi-x-2",ren:"republic-protocol",request:"request-network",xyo:"xyo-network",chromia:"chromaway",constellation:"constellation-labs","function-x":"fx-coin",rlc:"iexec-rlc",bittorrent:"bittorrent-old","counos-x":"counosx","fruits-eco":"fruits",steth:"staked-ether",toncoin:"the-open-network",metisdao:"metis-token",mvl:"mass-vehicle-ledger",safe:"safe-anwang","terra-luna-v2":"terra-luna-2",threshold:"threshold-network-token",wemix:"wemix-token","nest-protocol":"nest","stasis-euro":"stasis-eurs","usdx-kava":"usdx","wrapped-everscale":"everscale",funtoken:"funfair",prom:"prometeus",susd:"nusd",lukso:"lukso-token",shentu:"certik","standard-tokenization-protocol":"stp-network",stormx:"storm","vulcan-forged-pyr":"vulcan-forged",orchid:"orchid-protocol",quarkchain:"quark-chain","aleph-im":"aleph",fetch:"fetch-ai","freeway-token":"freeway","mrweb-finance-v2":"mrweb-finance",myneighboralice:"my-neighbor-alice","rsk-infrastructure-framework":"rif-token","rsk-smart-bitcoin":"rootstock","alpha-finance-lab":"alpha-finance",sologenic:"solo-coin","wirex-token":"wirex","bitmax-token":"asd","defi-pulse-index":"defipulse-index",deso:"bitclout",thundercore:"thunder-token",efforce:"wozx",enzyme:"melon",hunt:"hunt-token",idex:"aurora-dao",jasmy:"jasmycoin",splintershards:"splinterlands",travala:"concierge-io","chrono-tech":"chronobank",flamingo:"flamingo-finance","mstable-usd":"musd","richquack-com":"richquack","star-link":"starlink","super-zero-protocol":"super-zero",syntropy:"noia-network",xenioscoin:"xenios","yearn-finance-ii":"yearn-finance",chimpion:"banana-token",kiltprotocol:"kilt-protocol","truefi-token":"truefi",vegaprotocol:"vega-protocol","wrapped-kardiachain":"kardiachain","dxchain-token":"dxchain","keystone-of-opportunity-knowledge":"kok","moss-coin":"mossland","terra-virtua-kolect":"the-virtua-kolect",wing:"wing-finance","burger-cities":"burger-swap",dia:"dia-data",nash:"neon-exchange","rizon-blockchain":"rizon"};opts.coin in slugReplace&&(opts.coin=slugReplace[opts.coin]);var url="https://api.coingecko.com/api/v3/coins/";url+=opts.coin;url+="/market_chart?vs_currency=usd&days="+periods.chart[opts.period];var stname="mcw-"+opts.coin.toLowerCase()+"-usd-chart-"+opts.period}else{url="https://min-api.cryptocompare.com/data/";url+="hour"===opts.period?"histominute":"day"===opts.period||"week"===opts.period?"histohour":"histoday";url+="?fsym="+opts.symbol+"&tsym="+opts.currency;url+="all"===opts.period?"&allData=true":"&limit="+periods.candlestick[opts.period];url+="&aggregate=1&extraParams=massivecrypto";stname="mcw-"+opts.coin.toLowerCase()+"-"+opts.currency.toLowerCase()+"-"+opts.period}if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){sessionStorage.setItem(stname,JSON.stringify(data));return callback(data)},"json")}function formatAMPM(date){var hours=date.getHours(),minutes=date.getMinutes(),ampm=hours>=12?"PM":"AM";hours%=12;hours=hours||12;minutes=minutes<10?"0"+minutes:minutes;var strTime=hours+":"+minutes+" "+ampm;return strTime}function formatDate(date){var date_format=coinmc.text.date.split(" ");let label=[];date_format.map(function(term){switch(term){case"dd":label.push(date.getDate());break;case"mm":label.push(coinmc.text.months[date.getMonth()]);break;case"yy":label.push(date.getFullYear())}});if(date_format.length<3)return coinmc.text.months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear();var last=label.pop();return label.join(" ")+", "+last}function drawChart(){chart.showLoading("default",{text:"",color:theme.titleColor,maskColor:theme.backgroundColor});getData(function(data){if(data&&"Error"!=data.Response){$(chart._zr.dom).removeClass("no-data");$('.coinmc-filter-button[data-period="hour"]').hide();var options=getOptions(),labels=[],values=[],volumes=[];if("chart"===opts.type)for(i=0;i<data.prices.length;i++){var date=new Date(data.prices[i][0]),label="";label="day"==opts.period?coinmc.text.months[date.getMonth()]+" "+formatAMPM(date):formatDate(date);label="hour"==opts.period?formatAMPM(date):label;var value=data.prices[i][1]*opts.rate;labels.push(label);values.push(value)}else{$('.coinmc-filter-button[data-period="hour"]').show();for(i=0;i<data.Data.length;i++){date=new Date(1e3*data.Data[i].time),label="";label="day"==opts.period?coinmc.text.months[date.getMonth()]+" "+formatAMPM(date):formatDate(date);label="hour"==opts.period?formatAMPM(date):label;value="chart"==opts.type?data.Data[i].close:[data.Data[i].close,data.Data[i].open,data.Data[i].low,data.Data[i].high];labels.push(label);values.push(value);volumes.push(data.Data[i].volumefrom)}}options.xAxis[0].data=labels;options.series[0].data=values;if("candlestick"==opts.type){var zoomstart=Math.round(periods.candlestick[opts.period]/60*10),zoomshow="candlestick"==opts.type&&zoomstart>10;options.dataZoom.show=zoomshow;options.dataZoom.start="all"==opts.period?0:zoomstart;options.grid.y2=zoomshow?80:40;options.series[1].data=volumes}options.yAxis[0].min="all"==opts.period?0:null;chart.setOption(options,!0);chart.hideLoading()}else $(chart._zr.dom).addClass("no-data")})}var chartwrapper=self.find(".chart-wrapper"),options=chartwrapper.data("config"),opts=$.extend({type:"chart",coin:"bitcoin",symbol:"BTC",currency:"USD",period:"day",theme:"light",smooth:!0,areaColor:"rgba(112,147,254,0.8)",textColor:"#202328",font:"inherit"},options);setInterval(function(){if(sessionStorage.length>0)for(var j=0;j<sessionStorage.length;j++)sessionStorage.key(j).indexOf("mcw-")>-1&&sessionStorage.setItem(sessionStorage.key(j),"")},18e5);var periods={chart:{day:1,week:7,month:30,threemonths:90,sixmonths:180,year:365,all:"max"},candlestick:{hour:60,day:24,week:168,month:30,threemonths:90,sixmonths:180,year:365,all:2e3}},breakpoint=320,chart=echarts.init(chartwrapper.get(0)),themes={light:{backgroundColor:"#fff",color:"chart"==opts.type&&""!=opts.textColor?[opts.textColor]:"#202328",fontFamily:opts.font,chartColors:"chart"==opts.type?[opts.areaColor]:["rgba(108,130,145,0.2)"],titleColor:"chart"==opts.type?[opts.areaColor]:"#656565",xAxis:"#333333",yAxis:"#333333",border:"#eee"},dark:{backgroundColor:"#202328",color:"chart"==opts.type&&""!=opts.textColor?[opts.textColor]:"#fff",fontFamily:opts.font,chartColors:"chart"==opts.type?[opts.areaColor]:["rgba(108,130,145,0.2)"],titleColor:"chart"==opts.type?[opts.areaColor]:"#fff",xAxis:"#dddddd",yAxis:"#dddddd",border:"#202328"}},theme=themes[opts.theme];self.find(".coinmc-chart-period .coinmc-filter-button").click(function(){self.find(".coinmc-chart-period .coinmc-filter-button").removeClass("active");$(this).addClass("active");opts.period=$(this).data("period");drawChart()});self.find(".coinmc-chart-type .coinmc-filter-button").click(function(){self.find(".coinmc-chart-type .coinmc-filter-button").removeClass("active");var chartRange=self.find(".coinmc-chart-period .coinmc-filter-button.active").attr("data-period");$(this).addClass("active");opts.type=$(this).data("type");"hour"==chartRange?self.find('.coinmc-chart-period .coinmc-filter-button[data-period="day"]').trigger("click"):drawChart()});drawChart();$(window).on("resize",function(){chart.resize()})})});$(".coinmc-history").one("view",function(){var self=$(this);depp.require("datatable",function(){function getData(callback){var url="https://min-api.cryptocompare.com/data/histoday?fsym="+coin+"&tsym="+currency+"&limit=365&aggregate=1&extraParams=massivecrypto",stname="mcw-"+coin.toLowerCase()+"-"+currency.toLowerCase()+"-year";if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){sessionStorage.setItem(stname,JSON.stringify(data));return callback(data)},"json")}function drawTable(){getData(function(data){for(i=0;i<data.Data.length;i++)dataset.push({date:data.Data[i].time,open:data.Data[i].open,close:data.Data[i].close,high:data.Data[i].high,low:data.Data[i].low,volume:data.Data[i].volumeto});var filtered=dataset.slice(-30),tabledt=table.DataTable({dom:'r<"datatable-scroll"t><"loader"><"dataTables-footer"lp><"clear">',scrollX:!0,data:filtered,columns:columns,columnDefs:[{targets:"col-date",className:"text-left"}],order:[[0,"desc"]],pageLength:10,pagingType:"info_buttons",language:{processing:"",lengthMenu:coinmc.text.lengthmenu+" _MENU_",paginate:{next:coinmc.text.nextbtn,previous:coinmc.text.prevbtn}}});$(".dateselector").flatpickr({mode:"range",static:!0,minDate:(new Date).fp_incr(-365),maxDate:"today",dateFormat:"Y-m-d",defaultDate:[(new Date).fp_incr(-30),"today"],onChange:function(dates,datestr){dates=datestr.split(" to ");var start=new Date(dates[0]).getTime()/1e3,end=dates[1]?new Date(dates[1]).getTime()/1e3:start,filtered=dataset.filter(function(data){return data.date>=start&&data.date<=end});tabledt.clear();tabledt.rows.add(filtered);tabledt.draw()}})})}$.fn.dataTableExt.oPagination.info_buttons={fnInit:function(e,a,n){var t=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span");i.appendChild(document.createTextNode(e.oLanguage.oPaginate.sPrevious)),o.appendChild(document.createTextNode(e.oLanguage.oPaginate.sNext)),s.appendChild(document.createTextNode(t)),i.className="paginate_button previous",o.className="paginate_button next",s.className="paginate_button info",a.appendChild(i),a.appendChild(s),a.appendChild(o),$(i).click(function(){e.oApi._fnPageChange(e,"previous"),n(e)}),$(o).click(function(){e.oApi._fnPageChange(e,"next"),n(e)}),$(i).bind("selectstart",function(){return!1}),$(o).bind("selectstart",function(){return!1})},fnUpdate:function(e,a){if(e.aanFeatures.p)for(var n=e.aanFeatures.p,t=0,i=n.length;t<i;t++){var s=n[t].getElementsByTagName("span");s[1].innerText=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),0===e._iDisplayStart?s[0].className="paginate_button previous disabled":s[0].className="paginate_button previous enabled",e.fnDisplayEnd()==e.fnRecordsDisplay()?s[2].className="paginate_button next disabled":s[2].className="paginate_button next enabled"}}};var table=self.find(".coinmc-datatable"),coin=table.data("coin"),currency=table.data("currency"),dataset=[],columns=[],fields=[];table.find("thead th").each(function(index){var column=$(this).data("col");fields.push(column);columns.push({data:column,name:column,render:function(data,type,row,meta){if("sort"===type)return data;switch(column){case"date":var date=new Date(1e3*data);return coinmc.text.months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear();case"open":case"close":case"high":case"low":case"volume":return coinmc.priceFormat(data,currency);default:return data}}})});drawTable()})});$(".coinmc-markets").one("view",function(){
var self=$(this);depp.require("datatable",function(){function getData(callback){currency="USD"==currency?"USDT":currency;var url="https://min-api.cryptocompare.com/data/top/exchanges/full?fsym="+coin+"&tsym="+currency+"&limit=50",stname="cmc-market-"+coin.toLowerCase()+"-"+currency.toLowerCase();if(null!==sessionStorage.getItem(stname)&&""!=sessionStorage.getItem(stname)){var json=JSON.parse(sessionStorage.getItem(stname));return callback(json)}$.get(url,function(data){sessionStorage.setItem(stname,JSON.stringify(data));return callback(data)},"json")}function drawTable(){getData(function(data){var dataset=[];if(null!=data.Data.Exchanges){for(var i=0;i<data.Data.Exchanges.length;i++){var ex=data.Data.Exchanges[i];dataset.push({rank:i+1,source:ex.MARKET,pair:ex.FROMSYMBOL+"/"+ex.TOSYMBOL,volume:ex.VOLUME24HOURTO,price:ex.PRICE,change:ex.CHANGE24HOUR,update:ex.LASTUPDATE})}table.DataTable({dom:'r<"datatable-scroll"t><"loader"><"dataTables-footer"lp><"clear">',scrollX:!0,data:dataset,columns:columns,columnDefs:[{targets:"col-rank",className:"text-left"},{targets:"col-source",className:"text-left"}],order:[],pageLength:10,pagingType:"info_buttons",language:{processing:"",lengthMenu:coinmc.text.lengthmenu+" _MENU_",paginate:{next:coinmc.text.nextbtn,previous:coinmc.text.prevbtn}}})}})}$.fn.dataTableExt.oPagination.info_buttons={fnInit:function(e,a,n){var t=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),i=document.createElement("span"),s=document.createElement("span"),o=document.createElement("span");i.appendChild(document.createTextNode(e.oLanguage.oPaginate.sPrevious)),o.appendChild(document.createTextNode(e.oLanguage.oPaginate.sNext)),s.appendChild(document.createTextNode(t)),i.className="paginate_button previous",o.className="paginate_button next",s.className="paginate_button info",a.appendChild(i),a.appendChild(s),a.appendChild(o),$(i).click(function(){e.oApi._fnPageChange(e,"previous"),n(e)}),$(o).click(function(){e.oApi._fnPageChange(e,"next"),n(e)}),$(i).bind("selectstart",function(){return!1}),$(o).bind("selectstart",function(){return!1})},fnUpdate:function(e,a){if(e.aanFeatures.p)for(var n=e.aanFeatures.p,t=0,i=n.length;t<i;t++){var s=n[t].getElementsByTagName("span");s[1].innerText=e._iDisplayStart+1+" - "+e.fnDisplayEnd()+" of "+e.fnRecordsDisplay(),0===e._iDisplayStart?s[0].className="paginate_button previous disabled":s[0].className="paginate_button previous enabled",e.fnDisplayEnd()==e.fnRecordsDisplay()?s[2].className="paginate_button next disabled":s[2].className="paginate_button next enabled"}}};var table=self.find(".coinmc-datatable"),coin=table.data("coin"),currency=table.data("currency"),columns=[];table.find("thead th").each(function(index){var column=$(this).data("col");columns.push({data:column,name:column,render:function(data,type,row,meta){if("sort"===type)return data;switch(column){case"change":return data.toFixed(2)+"%";case"volume":case"price":return coinmc.priceFormat(data,currency);case"update":return timeago().format(new Date(1e3*data));default:return data}}})});drawTable()})});$(".coinmc-watchlist").on("click",function(){coinmc.watchlist.addremove("coins",$(this).data("value"),$(this))});$.fn.coinmcCalculator=function(){function calcdown(){var out="",val=parseFloat(fieldone.val().replace(/,/g,""));out=val?coinmc.numberFormat(val*optionone.val()*optiontwo.val(),currencybtn.html()):"";fieldtwo.val(out)}function calcup(){var out="",val=parseFloat(fieldtwo.val().replace(/,/g,""));out=val?coinmc.numberFormat(val*(1/optiontwo.val())/optionone.val(),currencybtn.html()):"";fieldone.val(out)}var self=this;self.find(".coinmc-form-swap").click(function(){self.find(".cmc-row").eq(0).toggleClass("reverse")});var optionone=self.find("input.coinmc-dropdown__input").first(),optiontwo=self.find("input.coinmc-dropdown__input").last(),fieldone=self.find("input.coinmc-field").first(),fieldtwo=self.find("input.coinmc-field").last(),currencybtn=self.find(".coinmc-button").last();fieldone.on("input",function(){calcdown()});fieldtwo.on("input",function(){calcup()});optionone.change(function(){calcup();"up"});optiontwo.change(function(){calcdown();"down"})};if(0==$(".coinmc-twitter").length&&0==$(".coinmc-reddit").length){var index=$(".coinmc-social").closest(".coinmc-tab-content").index();$(".coinmc-tab-content").eq(index).remove();$(".coinmc-tab").eq(index).remove();$(".coinmc-tabs").each(function(){$(this).coinmcTabs()})}$(".coinmc-twitter").one("view",function(){var handle=$(this).data("handle"),embed='<a class="twitter-timeline" href="https://twitter.com/'+handle+'">Tweets by @'+handle+'</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>';$(this).append(embed)});$(".coinmc-reddit").one("view",function(){var self=$(this),url=$(this).data("sub");$.ajax({type:"GET",data:{action:"reddit",sub:url},url:coinmc.ajax_url,success:function(data){self.append(data)}})});$(".coinmc-ticker").each(function(){$(this).click(function(){$(this).toggleClass("single")});if($(this).hasClass("coinmc-header")){$("body").css("padding-top",$(this).height()+"px");$("#wpadminbar").css("margin-top",$(this).height()+"px")}});$(".coinmc-table").each(function(){$(this).coinmcTable()});$(".coinmc-dropdown").not("td .coinmc-dropdown").each(function(){$(this).coinmcDropdown()});$(".coinmc-calculator").each(function(){$(this).coinmcCalculator()});$(".coinmc-tabs").each(function(){$(this).coinmcTabs()});$(".coinmc-trigger").each(function(){0==$(this).parents(".coinmc-tabs-content").length&&$(this).trigger("view")});$(".coingrid").each(function(){var self=this;$(this).coinmcResize();$(window).resize(function(){$(self).coinmcResize()})});$(".coinmc-filter-button").length>0&&autocenter($(".coinmc-chart-period .coinmc-filter-button.active"));$(".coinmc-chart-period .coinmc-filter-button").on("click",function(e){e.preventDefault();autocenter($(this))});$(document).on("click",".watchlist-notice .close",function(e){$(this).closest(".watchlist-notice").addClass("hidden")})});